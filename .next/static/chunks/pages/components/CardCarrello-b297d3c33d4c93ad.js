(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[469],{9470:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/CardCarrello",function(){return o(8871)}])},8871:function(e,n,o){"use strict";o.r(n);var i=o(5893),a=o(7294),s=o(5121),r=o(1675),t=o.n(r);n.default=e=>{let{title:n,items:o,onOrder:r,onClear:l}=e,[c,d]=(0,a.useState)(!1),[u,p]=(0,a.useState)("");return(0,i.jsxs)("div",{className:t().container,children:[(0,i.jsxs)("div",{className:t().options,children:[(0,i.jsx)("h2",{children:n}),o&&o.map((e,n)=>(0,i.jsxs)("div",{children:[e.base&&(0,i.jsxs)("p",{children:["Base: ",e.base.nome]}),e.impasto&&(0,i.jsxs)("p",{children:["Impasto: ",e.impasto.nome]}),e.ingredienti&&(0,i.jsxs)("p",{children:["Ingredienti: ",e.ingredienti.map(e=>e.nome).join(", ")]}),!e.base&&!e.impasto&&!e.ingredienti&&(0,i.jsxs)("p",{children:["Pizza: ",e.pizza]})]},n)),(0,i.jsxs)("div",{className:t().option,children:[(0,i.jsx)("button",{className:t().addToCart,onClick:()=>d(!0),children:"Ordina"}),(0,i.jsx)("button",{className:t().addToCart,onClick:()=>{l(),window.alert("Carrello svuotato con successo!"),console.log("handleClear executed")},children:"Svuota Carrello"})]})]}),c&&(0,i.jsxs)("div",{className:t().options,children:[(0,i.jsx)("h3",{children:"Inserisci il tuo nome:"}),(0,i.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value)})," ",(0,i.jsxs)("div",{className:t().option,children:[(0,i.jsx)("button",{className:t().addToCart,onClick:()=>{r(u),d(!1),p(""),s.Z.post("http://localhost:3001/api/order",{nome:u,pizza:o[0].pizza,base:o[0].base?o[0].base.nome:null,impasto:o[0].impasto?o[0].impasto.nome:null,ingredienti:o[0].ingredienti?o[0].ingredienti.map(e=>e.nome):null}).then(e=>{console.log(e.data),window.alert("Ordine inviato con successo!")}).catch(e=>{console.error("Errore durante la richiesta Axios:",e),console.error("Errore durante l'invio dell'ordine:",e),window.alert("Si \xe8 verificato un errore durante l'invio dell'ordine.")})},children:"Conferma"}),(0,i.jsx)("button",{className:t().addToCart,onClick:()=>d(!1),children:"Annulla"})]})]})]})}},1675:function(e){e.exports={container:"carrello_container__tGwo_",options:"carrello_options__sW2dq",option:"carrello_option__Uv0K7",addToCart:"carrello_addToCart__hlnKm"}}},function(e){e.O(0,[121,774,888,179],function(){return e(e.s=9470)}),_N_E=e.O()}]);